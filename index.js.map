{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst gallery = document.querySelector('.gallery');\nlet Lightbox = new SimpleLightbox('.gallery a ', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nimport { arrData } from '../main';\n\nconst userContainerUL = document.querySelector('.users-list');\n\nexport function renderGallery() {\n  userContainerUL.innerHTML = '';\n\n  // Если массив данных пуст, выводим сообщение\n  if (arrData.length === 0) {\n    console.log('Нет данных для отображения');\n\n    return;\n  }\n\n  // Создаем разметку для элементов\n  const markup = arrData\n    .map(data2 => {\n      return `<li class=\"list-photo\">\n                <div class=\"gallery\">\n                  <a href=\"${data2.largeImageURL}\" class=\"gallery-item\">\n                    <img src=\"${data2.webformatURL}\" alt=\"${data2.tags}\" loading=\"lazy\" />\n                  </a>\n                </div>\n                <div class=\"container-total\">\n                  <div class=\"item\">\n                    <h2 class=\"head-photo\">likes</h2>\n                    <p class=\"total-photo\">${data2.likes}</p>\n                  </div>\n                  <div class=\"item\">\n                    <h2 class=\"head-photo\">views</h2>\n                    <p class=\"total-photo\">${data2.views}</p>\n                  </div>\n                  <div class=\"item\">\n                    <h2 class=\"head-photo\">comments</h2>\n                    <p class=\"total-photo\">${data2.comments}</p>\n                  </div>\n                  <div class=\"item\">\n                    <h2 class=\"head-photo\">downloads</h2>\n                    <p class=\"total-photo\">${data2.downloads}</p>\n                  </div>\n                </div>\n              </li>`;\n    })\n    .join('');\n\n  // Вставляем разметку в контейнер\n  userContainerUL.insertAdjacentHTML('beforeend', markup);\n  Lightbox.refresh();\n}\n","const API_KEY = '35615577-2bf6ed1d70f9a1c328f0e4a49';\nconst BASE_URL = 'https://pixabay.com/api/';\nimport { search } from '../main';\nconst input = document.querySelector('input');\nexport let searchTerm = search;\nimport { form } from '../main';\n\nimport { renderGallery } from './render-functions';\n\nconst options = {\n  method: 'GET',\n};\n\nexport function fetchGallery(search) {\n  const query = search; // Используйте значение, переданное в функцию\n\n  if (!query) {\n    console.error('Поисковый запрос не определен');\n    return Promise.reject(new Error('Поисковый запрос не определен'));\n  }\n\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  );\n}\n","import iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchGallery } from './js/pixabay-api';\nimport { searchTerm } from './js/pixabay-api';\nexport let search = '';\nconst loader = document.querySelector('.loader');\n\nexport const form = document.querySelector('form');\nconst searchInput = document.getElementById('searchInput');\nexport let arrData = []; // Массив данных\ndocument.addEventListener('DOMContentLoaded', function () {\n  loader.classList.remove('loader');\n});\n\n// Обработчик события при отправке формы\n\n// loader.classList.remove('loader');\nform.addEventListener('submit', event => {\n  loader.classList.add('loader');\n  event.preventDefault(); // Предотвращаем перезагрузку страницы\n\n  // Показываем loader\n\n  // Получаем значение из поля ввода\n  const search = searchInput.value;\n\n  if (!search) {\n    loader.classList.remove('loader');\n    // Если поле пустое, не показываем loader\n    return;\n  }\n\n  loader.classList.add('loader'); // Показываем loader\n  // iziToast.warning();\n  fetchGallery(search)\n    .then(response => {\n      loader.classList.add('loader');\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          backgroundColor: '#ffa500',\n          messageSize: 16,\n          messageColor: '#FFF',\n          iconColor: '',\n          titleColor: '#ffa500',\n          icon: 'info-outline',\n          titleSize: 16,\n          messageLineHeight: 24,\n          position: 'topRight',\n        });\n\n        loader.classList.remove('loader');\n        return;\n      }\n      loader.classList.remove('loader');\n      arrData = data.hits; // Сохраняем данные\n\n      renderGallery(arrData);\n    })\n    .catch(error => {\n      console.log('Ошибка:', error);\n    });\n  searchInput.value = '';\n  // loader.classList.remove('loader');\n});\n\nimport { renderGallery } from './js/render-functions';\nexport const userConteinerUL = document.querySelector('.users-list');\n"],"names":["Lightbox","SimpleLightbox","userContainerUL","renderGallery","arrData","markup","data2","API_KEY","BASE_URL","fetchGallery","search","query","loader","form","searchInput","event","response","data","iziToast","error"],"mappings":"6vBAEgB,SAAS,cAAc,UAAU,EACjD,IAAIA,EAAW,IAAIC,EAAe,cAAe,CAC/C,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAID,MAAMC,EAAkB,SAAS,cAAc,aAAa,EAErD,SAASC,GAAgB,CAI9B,GAHAD,EAAgB,UAAY,GAGxBE,EAAQ,SAAW,EAAG,CACxB,QAAQ,IAAI,4BAA4B,EAExC,MACD,CAGD,MAAMC,EAASD,EACZ,IAAIE,GACI;AAAA;AAAA,6BAEgBA,EAAM,aAAa;AAAA,gCAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAMzBA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,6CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,oBAIvD,EACA,KAAK,EAAE,EAGVJ,EAAgB,mBAAmB,YAAaG,CAAM,EACtDL,EAAS,QAAO,CAClB,CCzDA,MAAMO,EAAU,qCACVC,EAAW,2BAEH,SAAS,cAAc,OAAO,EAUrC,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAQD,EAEd,OAAKC,EAKE,MACL,GAAGH,CAAQ,QAAQD,CAAO,MAAMI,CAAK,0DACzC,GANI,QAAQ,MAAM,+BAA+B,EACtC,QAAQ,OAAO,IAAI,MAAM,+BAA+B,CAAC,EAMpE,CCjBA,MAAMC,EAAS,SAAS,cAAc,SAAS,EAElCC,EAAO,SAAS,cAAc,MAAM,EAC3CC,EAAc,SAAS,eAAe,aAAa,EAClD,IAAIV,EAAU,CAAA,EACrB,SAAS,iBAAiB,mBAAoB,UAAY,CACxDQ,EAAO,UAAU,OAAO,QAAQ,CAClC,CAAC,EAKDC,EAAK,iBAAiB,SAAUE,GAAS,CACvCH,EAAO,UAAU,IAAI,QAAQ,EAC7BG,EAAM,eAAc,EAKpB,MAAML,EAASI,EAAY,MAE3B,GAAI,CAACJ,EAAQ,CACXE,EAAO,UAAU,OAAO,QAAQ,EAEhC,MACD,CAEDA,EAAO,UAAU,IAAI,QAAQ,EAE7BH,EAAaC,CAAM,EAChB,KAAKM,GAAY,CAEhB,GADAJ,EAAO,UAAU,IAAI,QAAQ,EACzB,CAACI,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,KAAK,CACZ,QACE,2EACF,gBAAiB,UACjB,YAAa,GACb,aAAc,OACd,UAAW,GACX,WAAY,UACZ,KAAM,eACN,UAAW,GACX,kBAAmB,GACnB,SAAU,UACpB,CAAS,EAEDN,EAAO,UAAU,OAAO,QAAQ,EAChC,MACD,CACDA,EAAO,UAAU,OAAO,QAAQ,EAChCR,EAAUa,EAAK,KAEfd,EAAqB,CAC3B,CAAK,EACA,MAAMgB,GAAS,CACd,QAAQ,IAAI,UAAWA,CAAK,CAClC,CAAK,EACHL,EAAY,MAAQ,EAEtB,CAAC,EAG8B,SAAS,cAAc,aAAa"}